<ion-header [translucent]="true">
  <ion-toolbar color="primary">

<ion-buttons slot="end" style="margin-right: 10px;">
      <div style="text-align: right; color: white;">
        <div style="font-weight: bold; font-size: 1em;">
          Bed {{ patient.selectedBedId || '?' }}
        </div>
        <div *ngIf="patient.current.naam" style="font-size: 0.7em; opacity: 0.8; margin-top: -2px;">
          {{ patient.current.naam }}
        </div>
      </div>
    </ion-buttons>

    <ion-title>Medicatie & Pompen</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true" class="ion-padding">

  <ion-card class="data-card">
    <ion-card-header>
      <ion-card-title>Noradrenaline</ion-card-title>
      <ion-card-subtitle>Continu Infuus</ion-card-subtitle>
    </ion-card-header>

    <ion-card-content>

      <ion-input class="custom-green-input ion-readonly"
                 label="Gewicht (uit Tab 1)"
                 label-placement="floating"
                 fill="outline"
                 [value]="patient.current.gewicht ? patient.current.gewicht + ' kg' : 'Vul in Tab 1!'"
                 readonly="true"
                 style="margin-bottom: 15px;">
      </ion-input>

      <ion-grid>
        <ion-row>
          <ion-col size="6">
            <ion-input class="custom-green-input" label="Dosis (mcg/kg/min)" label-placement="floating" fill="outline" type="number"
              [(ngModel)]="dosis"></ion-input>
          </ion-col>

          <ion-col size="6">
             <ion-select class="custom-green-input" label="Oplossing" label-placement="floating" fill="outline" [(ngModel)]="concentratieMg" interface="popover">
                <ion-select-option [value]="5">5 mg / 50ml</ion-select-option>
                <ion-select-option [value]="1">1 mg / 50ml</ion-select-option>
             </ion-select>
          </ion-col>
        </ion-row>
      </ion-grid>

      <ion-grid>
        <ion-row>
          <ion-col>
            <ion-button expand="block" (click)="bereken()" [disabled]="!patient.current.gewicht">Bereken</ion-button>
          </ion-col>
          <ion-col size="4">
             <ion-button expand="block" color="medium" fill="outline" (click)="reset()">Wis</ion-button>
          </ion-col>
        </ion-row>
      </ion-grid>

      <div *ngIf="resStand !== null" style="margin-top: 20px; text-align: center; background: rgba(40, 167, 69, 0.1); padding: 15px; border-radius: 8px; border: 1px solid #28a745;">
        <ion-label color="success">
          <h2>Loopsnelheid</h2>
          <div style="font-size: 2.5em; font-weight: bold; margin: 10px 0;">
            {{ resStand | number:'1.1-1' }}
          </div>
          <p style="font-size: 1.2em;">ml/uur</p>
        </ion-label>
      </div>

    </ion-card-content>
  </ion-card>

</ion-content>
