<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-buttons slot="end" style="margin-right: 10px;">
      <div style="text-align: right; color: white;">
        <div style="font-weight: bold; font-size: 1em;">
          Bed {{ patient.selectedBedId || '?' }}
        </div>
        <div *ngIf="patient.current.naam" style="font-size: 0.7em; opacity: 0.8; margin-top: -2px;">
          {{ patient.current.naam }}
        </div>
      </div>
    </ion-buttons>
    <ion-title>Hemodynamiek</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true" class="ion-padding">

  <ion-card class="data-card">
    <ion-card-header>
      <div style="display: flex; justify-content: space-between; align-items: center;">
        <ion-card-title>PiCCO Input</ion-card-title>

        <ion-button fill="clear" size="small" (click)="toonInfo()" style="--color: #00796B; font-weight: bold;">
          Uitleg
          <ion-icon name="chevron-forward-outline" slot="end"></ion-icon>
        </ion-button>
      </div>
    </ion-card-header>
    <ion-card-content>

      <ion-grid>
        <ion-row>
          <ion-col size="6">
            <ion-input class="custom-green-input" label="CI (Index)" label-placement="floating" fill="outline" type="number"
              [(ngModel)]="ci" placeholder="N: 3.0 - 5.0"></ion-input>
          </ion-col>
          <ion-col size="6">
            <ion-input class="custom-green-input" label="GEDI (Vulling)" label-placement="floating" fill="outline" type="number"
              [(ngModel)]="gedi" placeholder="N: 640 - 800"></ion-input>
          </ion-col>
        </ion-row>

        <ion-row>
          <ion-col size="6">
            <ion-input class="custom-green-input" label="ELWI (Vocht)" label-placement="floating" fill="outline" type="number"
              [(ngModel)]="elwi" placeholder="Max 10"></ion-input>
          </ion-col>
          <ion-col size="6">
            <ion-input class="custom-green-input" label="MAP (Druk)" label-placement="floating" fill="outline" type="number"
              [(ngModel)]="map" placeholder="Doel > 65"></ion-input>
          </ion-col>
        </ion-row>
      </ion-grid>

      <ion-list lines="none" style="margin-top: 10px; border-top: 1px solid #444; padding-top:10px;">
        <ion-item>
          <ion-label>Loopt Vasopressie? (Nor)</ion-label>
          <ion-toggle slot="end" [(ngModel)]="hasVaso" color="secondary"></ion-toggle>
        </ion-item>
        <ion-item>
          <ion-label>Loopt Inotropie? (Dobu)</ion-label>
          <ion-toggle slot="end" [(ngModel)]="hasIno" color="danger"></ion-toggle>
        </ion-item>
      </ion-list>

      <ion-grid>
        <ion-row>
          <ion-col>
            <ion-button expand="block" class="teal-btn" (click)="analyseer()">Interpreteer</ion-button>
          </ion-col>
          <ion-col size="4">
            <ion-button expand="block" color="medium" fill="outline" (click)="reset()">Reset</ion-button>
          </ion-col>
        </ion-row>
      </ion-grid>

    </ion-card-content>
  </ion-card>

  <ion-card *ngIf="diagnose" [color]="resultColor" class="result-card animate__animated animate__fadeInUp">
    <ion-card-header>
      <ion-card-title style="color: white; font-weight: bold;">
        {{ diagnose }}
      </ion-card-title>
    </ion-card-header>
    <ion-card-content style="color: white;">

      <div *ngIf="elwiWarning" style="background: rgba(0,0,0,0.3); padding: 10px; border-radius: 8px; margin-bottom: 10px; font-weight: bold; border-left: 5px solid yellow;">
        {{ elwiWarning }}
      </div>

      <p style="font-size: 1.1em; line-height: 1.4;">
        <strong>Advies:</strong><br>
        {{ advies }}
      </p>

    </ion-card-content>
  </ion-card>

</ion-content>
