<ion-app>
  @if (showInstallBanner) {
    <div class="install-top-banner">
      <div class="banner-content">
        <ion-icon name="download-outline" class="install-icon"></ion-icon>
        <span>Installeer app voor snellere toegang</span>
      </div>
      <div class="banner-actions">
        <span (click)="installApp()" class="install-link">INSTALLEREN</span>
        <ion-icon name="close" (click)="closeBanner()" class="close-icon"></ion-icon>
      </div>
    </div>
  }

  <ion-split-pane contentId="main-content">
    <ion-menu contentId="main-content" class="leather-bg" type="overlay">
      <ion-header class="ion-no-border">
        <ion-toolbar>
          <ion-title style="color: var(--med-teal); font-weight: bold;">ICU Support</ion-title>
        </ion-toolbar>
      </ion-header>

      <ion-content>
        <ion-list lines="none" style="background: transparent;">

          <ion-menu-toggle auto-hide="false">
            <ion-item
              [routerLink]="homeItem.url"
              routerDirection="root"
              detail="false"
              routerLinkActive="selected-item"
              style="--background: transparent; margin: 1px 4px; border-radius: 8px;">
              <ion-icon slot="start" [name]="homeItem.icon" style="color: var(--med-teal);"></ion-icon>
              <ion-label style="color: white; font-weight: bold; text-transform: uppercase;">{{ homeItem.title }}</ion-label>
            </ion-item>
          </ion-menu-toggle>

          @for (group of menuGroups; track group.header) {

            <ion-list-header lines="full" style="min-height: 48px; padding-top: 10px; padding-bottom: 5px;">
              <ion-label
                [color]="group.color"
                class="ion-text-uppercase"
                style="
                  display: flex;
                  align-items: center;
                  margin: 0;
                  width: 100%;
                ">

                @if (group.icon) {
                  <ion-icon
                    [name]="group.icon"
                    [color]="group.color"
                    aria-hidden="true"
                    style="font-size: 26px; margin-right: 12px; min-width: 26px;">
                  </ion-icon>
                }

                <span style="font-size: 13px; font-weight: 700; letter-spacing: 0.5px;">
                  {{ group.header }}
                </span>

              </ion-label>
            </ion-list-header>

            @for (item of group.items; track item.title) {
              <ion-menu-toggle auto-hide="false">
                <ion-item
                  [routerLink]="item.url"
                  routerDirection="root"
                  detail="false"
                  routerLinkActive="selected-item"
                  style="--background: transparent; margin: 1px 4px; border-radius: 8px; --min-height: 40px;">

                  <ion-icon slot="start" [name]="item.icon" [color]="group.color" style="font-size: 22px;"></ion-icon>
                  <ion-label style="color: white; font-weight: 500; font-size: 14px;">{{ item.title }}</ion-label>

                </ion-item>
              </ion-menu-toggle>
            }
          }

          <ion-menu-toggle auto-hide="false">
            <ion-item
              [routerLink]="infoItem.url"
              routerDirection="root"
              detail="false"
              routerLinkActive="selected-item"
              style="--background: transparent; margin: 1px 4px; margin-top: 8px; border-radius: 8px;">
              <ion-icon slot="start" [name]="infoItem.icon" style="color: var(--med-teal);"></ion-icon>
              <ion-label style="color: white; font-weight: bold; text-transform: uppercase;">{{ infoItem.title }}</ion-label>
            </ion-item>
          </ion-menu-toggle>
        </ion-list>

      </ion-content>

      <ion-footer class="ion-no-border">
        <div class="side-menu-footer">
          <div class="footer-text">Â© 2026 Ben de Boer</div>
        </div>
      </ion-footer>

    </ion-menu>

    <ion-router-outlet id="main-content"></ion-router-outlet>
  </ion-split-pane>
</ion-app>
